{"ast":null,"code":"import \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nvar _jsxFileName = \"/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/animals/components/forms/AnimalBirthMilestone.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport '../AnimalsAddModal.less';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cssPrefix = 'animals-add-modal';\nexport const BirthMilestoneForm = props => {\n  _s();\n  // eslint-disable-next-line no-empty-pattern\n  const {\n    form,\n    firstError,\n    animalMilestoneList\n  } = props;\n  const [, forceUpdate] = useState({});\n\n  // Can not select days after today\n  const disabledDate = current => current && current > moment().endOf('day');\n  useEffect(() => {\n    console.log(form, '---------');\n  }, [form]);\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: /*#__PURE__*/_jsxDEV(_Row, {\n      children: [/*#__PURE__*/_jsxDEV(_Col, {\n        className: `${cssPrefix}__two-col-lyt`,\n        children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n          name: \"actualAge\",\n          label: `${JSON.parse(form.getFieldValue('isApproxDOB')) ? 'Approximate' : 'Actual'} Birth Date`,\n          style: {\n            marginBottom: 0\n          },\n          rules: [_ref => {\n            let {\n              getFieldValue\n            } = _ref;\n            return {\n              required: getFieldValue('birthDateFlag'),\n              validator() {\n                // const [yrs, mos, days] = [getFieldValue('yrs') || 0, getFieldValue('mos') || 0, getFieldValue('days') || 0];\n                const [flag, date] = [getFieldValue('birthDateFlag'), getFieldValue('birthDate')];\n                if (flag && date || !flag) {\n                  return Promise.resolve();\n                }\n                return Promise.reject(new Error('Either Approximate Age or Birth Date must be specified'));\n              }\n            };\n          }],\n          children: /*#__PURE__*/_jsxDEV(_Row, {\n            gutter: 8,\n            children: [/*#__PURE__*/_jsxDEV(_Col, {\n              span: 10,\n              style: {\n                marginBottom: '5px'\n              },\n              children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n                name: \"birthDate\",\n                label: \"\",\n                style: {\n                  marginTop: 2,\n                  marginBottom: 0\n                },\n                rules: [_ref2 => {\n                  let {\n                    getFieldValue\n                  } = _ref2;\n                  return {\n                    required: true,\n                    type: 'date',\n                    validator(_, value) {\n                      var _animalMilestoneList$;\n                      if (!value) {\n                        return Promise.reject(new Error('Enter Birth Date'));\n                      }\n                      const newIntakeDate = moment(animalMilestoneList === null || animalMilestoneList === void 0 ? void 0 : (_animalMilestoneList$ = animalMilestoneList[1]) === null || _animalMilestoneList$ === void 0 ? void 0 : _animalMilestoneList$.milestoneDate);\n                      const birthDate = moment(value);\n                      console.log(newIntakeDate, '--------', birthDate, '--------', newIntakeDate.isBefore(birthDate));\n                      if (moment(newIntakeDate).isBefore(birthDate)) {\n                        return Promise.reject(new Error('Birth Date must be less than or same as Intake Date'));\n                      }\n                      return Promise.resolve();\n                    }\n                  };\n                }],\n                children: /*#__PURE__*/_jsxDEV(_DatePicker, {\n                  format: \"MM-DD-yyyy\",\n                  disabledDate: disabledDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Col, {\n              span: 12,\n              style: {\n                marginBottom: '5px'\n              },\n              children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n                name: \"isApproxDOB\",\n                children: /*#__PURE__*/_jsxDEV(_Radio.Group, {\n                  defaultValue: \"false\",\n                  children: /*#__PURE__*/_jsxDEV(_Row, {\n                    children: [/*#__PURE__*/_jsxDEV(_Col, {\n                      children: /*#__PURE__*/_jsxDEV(_Radio, {\n                        onChange: () => forceUpdate({}),\n                        value: \"true\",\n                        children: \"Approximate Birth Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 92,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(_Col, {\n                      children: /*#__PURE__*/_jsxDEV(_Radio, {\n                        onChange: () => forceUpdate({}),\n                        value: \"false\",\n                        children: \"Actual Birth Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, `${form.getFieldValue('birthDateFlag')}-key`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        className: `${cssPrefix}__two-col-lyt`,\n        children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n          name: \"birthNote\",\n          label: \"Birth Notes\",\n          children: /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n            placeholder: \"Input any birth notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(BirthMilestoneForm, \"pXs445BaLvP1bIJhw5cRK3rmoMI=\");\n_c = BirthMilestoneForm;\nvar _c;\n$RefreshReg$(_c, \"BirthMilestoneForm\");","map":{"version":3,"names":["useEffect","useState","moment","cssPrefix","BirthMilestoneForm","props","form","firstError","animalMilestoneList","forceUpdate","disabledDate","current","endOf","console","log","JSON","parse","getFieldValue","marginBottom","required","validator","flag","date","Promise","resolve","reject","Error","marginTop","type","_","value","newIntakeDate","milestoneDate","birthDate","isBefore"],"sources":["/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/animals/components/forms/AnimalBirthMilestone.tsx"],"sourcesContent":["/* eslint-disable no-use-before-define */\n/* eslint-disable no-unused-vars */\nimport {\n  Col, DatePicker, Form, Input, InputNumber, Row, Switch, Radio,\n} from 'antd';\nimport { useEffect, useState } from 'react';\nimport '../AnimalsAddModal.less';\nimport moment, { Moment } from 'moment';\nimport { isEqual } from 'lodash';\n\ninterface AnimalBirthMilestoneProps {\n  form: any;\n  firstError: any;\n  animalMilestoneList: any;\n}\n\nconst cssPrefix = 'animals-add-modal';\n\nexport const BirthMilestoneForm = (props: AnimalBirthMilestoneProps) => {\n  // eslint-disable-next-line no-empty-pattern\n  const { form, firstError, animalMilestoneList } = props;\n  const [, forceUpdate] = useState({});\n\n  // Can not select days after today\n  const disabledDate = (current: Moment) => current && current > moment().endOf('day');\n\n  useEffect(() => {\n    console.log(form, '---------');\n  }, [form]);\n\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  return (\n    <div className=\"\">\n      <Row>\n        <Col className={`${cssPrefix}__two-col-lyt`}>\n          <Form.Item\n            name=\"actualAge\"\n            label={`${JSON.parse(form.getFieldValue('isApproxDOB')) ? 'Approximate' : 'Actual'} Birth Date`}\n            style={{ marginBottom: 0 }}\n            key={`${form.getFieldValue('birthDateFlag')}-key`}\n            rules={[\n              ({ getFieldValue }) => ({\n                required: getFieldValue('birthDateFlag'),\n                validator() {\n                  // const [yrs, mos, days] = [getFieldValue('yrs') || 0, getFieldValue('mos') || 0, getFieldValue('days') || 0];\n                  const [flag, date] = [getFieldValue('birthDateFlag'), getFieldValue('birthDate')];\n                  if ((flag && date) || !flag) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error('Either Approximate Age or Birth Date must be specified'));\n                },\n              }),\n            ]}\n          >\n            <Row gutter={8}>\n              <Col span={10} style={{ marginBottom: '5px' }}>\n                <Form.Item\n                  name=\"birthDate\"\n                  label=\"\"\n                  style={{ marginTop: 2, marginBottom: 0 }}\n                  rules={[\n                    ({ getFieldValue }) => ({\n                      required: true,\n                      type: 'date',\n                      validator(_, value) {\n                        if (!value) {\n                          return Promise.reject(new Error('Enter Birth Date'));\n                        }\n                        const newIntakeDate = moment(animalMilestoneList?.[1]?.milestoneDate);\n                        const birthDate = moment(value);\n                        console.log(newIntakeDate, '--------', birthDate, '--------', newIntakeDate.isBefore(birthDate));\n\n                        if (moment(newIntakeDate).isBefore(birthDate)) {\n                          return Promise.reject(new Error('Birth Date must be less than or same as Intake Date'));\n                        }\n                        return Promise.resolve();\n                      },\n                    }),\n                  ]}\n                >\n                  <DatePicker format=\"MM-DD-yyyy\" disabledDate={disabledDate} />\n                </Form.Item>\n              </Col>\n              <Col span={12} style={{ marginBottom: '5px' }}>\n                <Form.Item name=\"isApproxDOB\">\n                  <Radio.Group defaultValue=\"false\">\n                    <Row>\n                      <Col>\n                        <Radio onChange={() => forceUpdate({})} value=\"true\">Approximate Birth Date</Radio>\n                      </Col>\n                      <Col>\n                        <Radio onChange={() => forceUpdate({})} value=\"false\">Actual Birth Date</Radio>\n                      </Col>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form.Item>\n        </Col>\n        <Col />\n        <Col className={`${cssPrefix}__two-col-lyt`}>\n          <Form.Item name=\"birthNote\" label=\"Birth Notes\">\n            <Input.TextArea placeholder=\"Input any birth notes\" />\n          </Form.Item>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}