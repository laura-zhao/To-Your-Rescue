{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/tooltip/style\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nvar _jsxFileName = \"/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/pco/components/ContentToolbar.tsx\",\n  _s = $RefreshSig$();\nimport { DeleteOutlined, PlusOutlined, QuestionCircleOutlined, DownOutlined } from '@ant-design/icons';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './ContentToolbar.less';\nimport { kebabCase } from 'lodash';\nimport { mockMenu1 } from '../Pco.data';\nimport { apiCall } from '../../../shared/api/apiWrapper';\nimport SearchInput from '../../../shared/components/Inputs/SearchInput.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cssPrefix = 'content-toolbar';\nconst {\n  confirm\n} = _Modal;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding: 10px 0px;\n`;\n_c = Wrapper;\nexport const ContentToolbar = props => {\n  _s();\n  const {\n    searchKey,\n    setSearchKey,\n    setSearchKeyFinal\n  } = props;\n  const [pcoSuggestion, setPcoSuggestion] = useState([]);\n  const addBtnClicked = () => {\n    props.onAddIconClicked(true);\n  };\n  const deleteBtnClicked = () => {\n    props.onDeleteIconClicked();\n  };\n  const showActions = () => {};\n  useEffect(() => {\n    const data = {};\n    apiCall(`PCO/search-autocomplete?searchText=${searchKey}&limit=${props === null || props === void 0 ? void 0 : props.pageLength}&entityType=${(props === null || props === void 0 ? void 0 : props.tableFilter) === 'all' ? '' : props === null || props === void 0 ? void 0 : props.tableFilter}`, 'GET', data).then(resp => {\n      var _resp$data;\n      if (resp === null || resp === void 0 ? void 0 : (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.success) {\n        var _resp$data2;\n        setPcoSuggestion(resp === null || resp === void 0 ? void 0 : (_resp$data2 = resp.data) === null || _resp$data2 === void 0 ? void 0 : _resp$data2.data);\n      }\n    });\n  }, [searchKey]);\n  const handleActionsMenuClick = _ref => {\n    let {\n      key,\n      value\n    } = _ref;\n    props.onActionItemClick(key, value);\n  };\n  const deleteIconTooltip = props.disableDeleteIcon ? 'Please select entries from Table to delete' : 'Delete selected entries';\n\n  // eslint-disable-next-line\n  const confirmDelete = /*#__PURE__*/_jsxDEV(_Tooltip, {\n    title: deleteIconTooltip,\n    children: /*#__PURE__*/_jsxDEV(_Button, {\n      className: `${cssPrefix}__button`,\n      type: \"dashed\",\n      disabled: props.disableDeleteIcon,\n      onClick: showPropsConfirm,\n      icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n  function showPropsConfirm() {\n    confirm({\n      title: 'Delete',\n      icon: /*#__PURE__*/_jsxDEV(QuestionCircleOutlined, {\n        style: {\n          color: 'red'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this),\n      content: 'Are you sure you want to delete？',\n      okText: 'Delete',\n      okType: 'danger',\n      cancelText: 'Cancel',\n      onOk() {\n        deleteBtnClicked();\n      }\n    });\n  }\n  const actionsMenu = /*#__PURE__*/_jsxDEV(_Menu, {\n    children: mockMenu1.map(_ref2 => {\n      let {\n        key,\n        value\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(_Menu.Item, {\n        onClick: () => handleActionsMenuClick({\n          key,\n          value\n        }),\n        children: value\n      }, kebabCase(key), false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    className: `${cssPrefix}`,\n    children: /*#__PURE__*/_jsxDEV(_Row, {\n      className: `${cssPrefix}__row`,\n      children: [/*#__PURE__*/_jsxDEV(_Col, {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(SearchInput, {\n          placeholder: \"Search Last Name\",\n          searchKey: searchKey,\n          setSearchKey: setSearchKey,\n          setSearchKeyFinal: setSearchKeyFinal,\n          options: pcoSuggestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        className: `${cssPrefix}__col--pull-right ${cssPrefix}__filters`,\n        children: props.filterSlot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        children: /*#__PURE__*/_jsxDEV(_Button, {\n          className: `${cssPrefix}__button`,\n          type: \"dashed\",\n          onClick: addBtnClicked,\n          icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }, this),\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        children: /*#__PURE__*/_jsxDEV(_Dropdown, {\n          overlay: actionsMenu,\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            className: `${cssPrefix}__button ${cssPrefix}__button--primary`,\n            type: \"primary\",\n            onClick: showActions,\n            children: [\"Actions\", ' ', /*#__PURE__*/_jsxDEV(DownOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(ContentToolbar, \"wh36GXa13hJ6hvqDl9pD6NwA8vs=\");\n_c2 = ContentToolbar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"ContentToolbar\");","map":{"version":3,"names":["DeleteOutlined","PlusOutlined","QuestionCircleOutlined","DownOutlined","React","useEffect","useState","styled","kebabCase","mockMenu1","apiCall","SearchInput","cssPrefix","confirm","Wrapper","div","ContentToolbar","props","searchKey","setSearchKey","setSearchKeyFinal","pcoSuggestion","setPcoSuggestion","addBtnClicked","onAddIconClicked","deleteBtnClicked","onDeleteIconClicked","showActions","data","pageLength","tableFilter","then","resp","success","handleActionsMenuClick","key","value","onActionItemClick","deleteIconTooltip","disableDeleteIcon","confirmDelete","showPropsConfirm","title","icon","color","content","okText","okType","cancelText","onOk","actionsMenu","map","filterSlot"],"sources":["/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/pco/components/ContentToolbar.tsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-use-before-define */\nimport {\n  Row,\n  Col,\n  Button,\n  Dropdown,\n  AutoComplete,\n  Menu,\n  Tooltip,\n  Modal,\n} from 'antd';\nimport Search from 'antd/lib/input/Search';\nimport {\n  DeleteOutlined,\n  PlusOutlined,\n  QuestionCircleOutlined,\n  DownOutlined,\n} from '@ant-design/icons';\nimport React, {\n  ReactElement, ReactHTMLElement, useEffect, useState,\n} from 'react';\nimport styled from 'styled-components';\nimport './ContentToolbar.less';\nimport { kebabCase, values } from 'lodash';\nimport { mockMenu1 } from '../Pco.data';\nimport { apiCall } from '../../../shared/api/apiWrapper';\nimport SearchInput from '../../../shared/components/Inputs/SearchInput.component';\n\nconst cssPrefix = 'content-toolbar';\n\nconst { confirm } = Modal;\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding: 10px 0px;\n`;\n\nexport interface ContentToolbarProps {\n  filterSlot?: ReactElement | ReactHTMLElement<HTMLElement>,\n  disableDeleteIcon: boolean;\n  tableFilter: any;\n  currentPage: any,\n  pageLength: any,\n  searchKey: string;\n  setSearchKey: (str: string) => void;\n  setSearchKeyFinal: (str: string) => void;\n  onAddIconClicked: (flag: boolean) => void,\n  onDeleteIconClicked: () => void,\n  onActionItemClick: (item: React.Key, value: string) => void,\n}\n\nexport const ContentToolbar = (props: ContentToolbarProps) => {\n  const { searchKey, setSearchKey, setSearchKeyFinal } = props;\n  const [pcoSuggestion, setPcoSuggestion] = useState([]);\n  const addBtnClicked = () => { props.onAddIconClicked(true); };\n  const deleteBtnClicked = () => { props.onDeleteIconClicked(); };\n  const showActions = () => { };\n\n  useEffect(() => {\n    const data = {};\n    apiCall(`PCO/search-autocomplete?searchText=${searchKey}&limit=${props?.pageLength}&entityType=${(props?.tableFilter === 'all') ? '' : props?.tableFilter}`, 'GET', data)\n      .then((resp: any) => {\n        if (resp?.data?.success) {\n          setPcoSuggestion(resp?.data?.data);\n        }\n      });\n  }, [searchKey]);\n\n  const handleActionsMenuClick = ({ key, value }: { key: React.Key, value: string }) => {\n    props.onActionItemClick(key, value);\n  };\n\n  const deleteIconTooltip: string = props.disableDeleteIcon ? 'Please select entries from Table to delete'\n    : 'Delete selected entries';\n\n  // eslint-disable-next-line\n  const confirmDelete = (\n    <Tooltip title={deleteIconTooltip}>\n      <Button\n        className={`${cssPrefix}__button`}\n        type=\"dashed\"\n        disabled={props.disableDeleteIcon}\n        onClick={showPropsConfirm}\n        icon={<DeleteOutlined />}\n      />\n    </Tooltip>\n  );\n\n  function showPropsConfirm() {\n    confirm({\n      title: 'Delete',\n      icon: <QuestionCircleOutlined style={{ color: 'red' }} />,\n      content: 'Are you sure you want to delete？',\n      okText: 'Delete',\n      okType: 'danger',\n      cancelText: 'Cancel',\n      onOk() {\n        deleteBtnClicked();\n      },\n    });\n  }\n\n  const actionsMenu = (\n    <Menu>\n      {mockMenu1.map(({ key, value }) => (\n        <Menu.Item onClick={() => handleActionsMenuClick({ key, value })} key={kebabCase(key)}>{value}</Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  return (\n    <Wrapper className={`${cssPrefix}`}>\n      <Row className={`${cssPrefix}__row`}>\n        <Col className=\"\">\n          {/* <AutoComplete\n            key=\"value\"\n            options={options}\n            style={{ width: 200 }}\n            onSelect={onSelect}\n            onSearch={onSearch}\n            placeholder=\"Search Last Name\"\n          /> */}\n          <SearchInput\n            placeholder=\"Search Last Name\"\n            searchKey={searchKey}\n            setSearchKey={setSearchKey}\n            setSearchKeyFinal={setSearchKeyFinal}\n            options={pcoSuggestion}\n          />\n        </Col>\n        <Col className={`${cssPrefix}__col--pull-right ${cssPrefix}__filters`}>\n          {props.filterSlot}\n        </Col>\n        <Col>\n          <Button\n            className={`${cssPrefix}__button`}\n            type=\"dashed\"\n            onClick={addBtnClicked}\n            icon={<PlusOutlined />}\n          >\n            Add\n          </Button>\n        </Col>\n        {/* <Col>\n          {confirmDelete}\n        </Col> */}\n        <Col>\n          <Dropdown overlay={actionsMenu}>\n            <Button\n              className={`${cssPrefix}__button ${cssPrefix}__button--primary`}\n              type=\"primary\"\n              onClick={showActions}\n            >\n              Actions\n              {' '}\n              <DownOutlined />\n            </Button>\n          </Dropdown>\n        </Col>\n      </Row>\n    </Wrapper>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}