{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nvar _jsxFileName = \"/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/animals/milestones/MilestoneAddEditForm.tsx\",\n  _s = $RefreshSig$();\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useEffect, useState } from 'react';\nimport '../FtrAnimals.less';\nimport Cookies from 'universal-cookie';\nimport moment from 'moment';\nimport { apiCall } from '../../../shared/api/apiWrapper';\nimport { BirthMilestoneForm } from '../components/forms/AnimalBirthMilestone';\nimport { AnimalIntakeMilestone } from '../components/forms/AnimalIntakeMilestone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  confirm\n} = _Modal;\nconst cssPrefix = 'animals-add-modal';\nconst {\n  Option\n} = _Select;\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst cookies = new Cookies();\n\n/* eslint-disable no-template-curly-in-string */\nconst validateMessages = {\n  required: '${label} is required',\n  types: {\n    email: '${label} is not a valid email',\n    number: '${label} is not a valid number'\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}'\n  }\n};\nexport const MilestoneAddEditForm = props => {\n  _s();\n  var _editRecord$milestone3;\n  const {\n    editRecord,\n    visible,\n    setVisible,\n    animalDetail,\n    animalMilestoneList,\n    updateAnimalMilestoneListCall,\n    getAnimalMilestoneListCall,\n    updateAnimalMilestoneLoading,\n    setSelectedPco,\n    selectedPcoId,\n    selectedAnimalId\n  } = props;\n  const [, forceUpdate] = useState({});\n  const [loading, setLoading] = useState(false);\n  const newAnimalType = [];\n  const newAcquisitionWay = [];\n  const [animalType, setAnimalType] = useState(newAnimalType);\n  const [howAcquired, setHowAcquired] = useState(newAcquisitionWay);\n  const [otherRescueShelter, setOtherRescueShelter] = useState([]);\n  const [aqusitionNameToId, setAqusitionNameToId] = useState({});\n  const [aqusitionIdToName, setAqusitionIdToName] = useState({});\n  const [firstError, setFirstError] = useState('');\n  const [form] = _Form.useForm();\n\n  // const ifEditMode: boolean = Boolean(props.editRecord && props.editRecord.key) || false;\n  const modalTitle = (editRecord === null || editRecord === void 0 ? void 0 : editRecord.milestoneType.toLowerCase()) === 'intake' ? 'Edit Intake Milestone' : 'Edit Birth Milestone';\n  useEffect(() => {\n    const data = {};\n    apiCall('animaltype/get-animal-types', 'GET', data).then(resp => {\n      if ((resp === null || resp === void 0 ? void 0 : resp.status) === 200) {\n        var _resp$data, _resp$data$data;\n        setAnimalType(resp === null || resp === void 0 ? void 0 : (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : (_resp$data$data = _resp$data.data) === null || _resp$data$data === void 0 ? void 0 : _resp$data$data.animalTypes);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    const data = {};\n    apiCall('acquisition-way/get-acquisition-way', 'GET', data).then(resp => {\n      var _resp$data2;\n      if (resp === null || resp === void 0 ? void 0 : (_resp$data2 = resp.data) === null || _resp$data2 === void 0 ? void 0 : _resp$data2.success) {\n        var _resp$data3, _resp$data3$data, _resp$data4, _resp$data4$data;\n        setHowAcquired(resp === null || resp === void 0 ? void 0 : (_resp$data3 = resp.data) === null || _resp$data3 === void 0 ? void 0 : (_resp$data3$data = _resp$data3.data) === null || _resp$data3$data === void 0 ? void 0 : _resp$data3$data.acquisitionWays);\n        const tempAcquistionWay = resp === null || resp === void 0 ? void 0 : (_resp$data4 = resp.data) === null || _resp$data4 === void 0 ? void 0 : (_resp$data4$data = _resp$data4.data) === null || _resp$data4$data === void 0 ? void 0 : _resp$data4$data.acquisitionWays;\n        const newObj = {};\n        const newAcquistionWayIdToName = {};\n        tempAcquistionWay.map((currentAcqWay, i) => {\n          newObj[currentAcqWay.acquisitionWayName] = currentAcqWay.id;\n          newAcquistionWayIdToName[currentAcqWay.id] = currentAcqWay.acquisitionWayName;\n          return newObj;\n        });\n        setAqusitionNameToId(newObj);\n        setAqusitionIdToName(newAcquistionWayIdToName);\n      }\n    });\n    apiCall('other-rescue-shelter/get-other-rescue-shelter', 'GET', {}).then(resp => {\n      var _resp$data5, _resp$data5$data;\n      setOtherRescueShelter(resp === null || resp === void 0 ? void 0 : (_resp$data5 = resp.data) === null || _resp$data5 === void 0 ? void 0 : (_resp$data5$data = _resp$data5.data) === null || _resp$data5$data === void 0 ? void 0 : _resp$data5$data.otherRescueShelters);\n    });\n  }, []);\n\n  // useEffect(() => {\n  //   setFirstError('');\n  //   setCurrentAcquistionWayId('');\n  //   setFlagReasonKey(Date.now());\n  //   form.setFieldsValue({ ...editRecord });\n  //   if (!visible) {\n  //     setNoOfAnimal(1);\n  //     form.resetFields();\n  //     setEditRecord(null);\n  //   }\n  // }, [visible]);\n\n  // if (ifEditMode) {\n  //   form.setFieldsValue({\n  //     ...props.editRecord,\n  //   });\n  // }\n\n  // Can not select days after today\n  const disabledDate = current => current && current > moment().endOf('day');\n\n  // eslint-disable-next-line no-unused-vars\n  const sexValidator = _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    return {\n      required: true,\n      validator() {\n        const totalAnimals = Number(getFieldValue('numberOfAnimals') || 0);\n        const maleCnt = Number(getFieldValue('males') || 0);\n        const femaleCnt = Number(getFieldValue('females') || 0);\n        const uknCnt = Number(getFieldValue('unknown') || 0);\n        if (maleCnt + femaleCnt + uknCnt === totalAnimals) {\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error('Total Count Must Equal the Number of Animals'));\n      }\n    };\n  };\n  const handleUpdate = () => {\n    var _editRecord$milestone;\n    const data = form.getFieldsValue();\n    let newData = {};\n    if ((editRecord === null || editRecord === void 0 ? void 0 : (_editRecord$milestone = editRecord.milestoneType) === null || _editRecord$milestone === void 0 ? void 0 : _editRecord$milestone.toLowerCase()) === 'intake') {\n      const {\n        acquisitionWayId,\n        amountPaid,\n        amountRecieved,\n        intakeDate,\n        intakeNote,\n        otherRescueID\n      } = data;\n      newData = {\n        acquisitionWayId,\n        amountPaidFee: parseInt(amountPaid, 10),\n        amountReceivedFee: parseInt(amountRecieved, 10),\n        milestoneDate: moment(intakeDate),\n        notes: intakeNote,\n        otherRescueIDNo: otherRescueID,\n        otherRescueShelterId: data === null || data === void 0 ? void 0 : data.otherRescueShelterId,\n        pcoId: [aqusitionNameToId['Owner Surrender'], aqusitionNameToId === null || aqusitionNameToId === void 0 ? void 0 : aqusitionNameToId.Person, aqusitionNameToId === null || aqusitionNameToId === void 0 ? void 0 : aqusitionNameToId.Public].includes(acquisitionWayId) ? selectedPcoId : null,\n        acquisitionWayName: aqusitionIdToName[data === null || data === void 0 ? void 0 : data.acquisitionWayId]\n      };\n    } else {\n      const {\n        birthDate,\n        birthNote,\n        isApproxDOB\n      } = data;\n      newData = {\n        isApproxDOB: JSON.parse(isApproxDOB) || false,\n        milestoneDate: moment(birthDate),\n        notes: birthNote\n      };\n    }\n    updateAnimalMilestoneListCall({\n      ...newData,\n      milestoneId: editRecord === null || editRecord === void 0 ? void 0 : editRecord.id\n    }, () => {\n      getAnimalMilestoneListCall({\n        page: 1,\n        length: 15,\n        animalId: (selectedAnimalId === null || selectedAnimalId === void 0 ? void 0 : selectedAnimalId[0]) || localStorage.getItem('selectedAnimalId')\n      }, () => {\n        setVisible(false);\n      });\n    });\n  };\n  const getActualBirthdate = (yrs, mos, days) => {\n    const birthDate = moment().subtract(yrs, 'years').subtract(mos, 'months').subtract(days, 'days');\n    return birthDate;\n  };\n\n  // const onCancel = () => {\n  //   const data = form.getFieldsValue();\n  //   let isFormChanged = false;\n  //   if (!editRecord) {\n  //     isFormChanged = (data?.animalName || data?.breed || data?.color || data.spayedOrNeutered || data?.description\n  //       || data?.otherRescueID || data?.flag || data?.flagReason || data?.location || data?.personOrRescue\n  //       || data?.otherRescueID || data?.otherRescueID || data?.amountPaid || data?.amountRecieved\n  //       || data?.intakeNote || data?.personOrRescue || data?.actualAge || data?.birthNote);\n  //   } else {\n  //     const {\n  //       animalName, animalTypeId, breed, sex, color, spayedOrNeutered, location, flag, flagReason, description, upload,\n  //     } = editRecord;\n  //     const intialRecord = {\n  //       animalName, animalTypeId, breed, sex, color, spayedOrNeutered, location, flag, flagReason, description, upload,\n  //     };\n  //     isFormChanged = !(isEqual(intialRecord, form.getFieldsValue()));\n  //   }\n  //   if (!isFormChanged) {\n  //     form.resetFields();\n  //     props.handleCancel();\n  //     return;\n  //   }\n\n  //   confirm({\n  //     title: 'Do you want to save your changes?',\n  //     icon: <ExclamationCircleOutlined />,\n  //     okText: 'Yes',\n  //     okType: 'danger',\n  //     cancelText: 'No',\n  //     onOk() {\n  //       editRecord ? handleUpdate() : form.submit();\n  //     },\n  //     onCancel() {\n  //       form.resetFields();\n  //       props.handleCancel();\n  //     },\n  //   });\n  // };\n\n  const validationCheck = () => {\n    let errorField = '';\n    setFirstError('');\n    setTimeout(() => {\n      var _form$getFieldsError;\n      (_form$getFieldsError = form.getFieldsError()) === null || _form$getFieldsError === void 0 ? void 0 : _form$getFieldsError.map(data => {\n        if (errorField) {\n          return '';\n        }\n        if (data === null || data === void 0 ? void 0 : data.errors[0]) {\n          errorField = data === null || data === void 0 ? void 0 : data.name[0];\n          setFirstError(data === null || data === void 0 ? void 0 : data.name[0]);\n        }\n        return '';\n      });\n      if (errorField) {\n        _message.error({\n          content: 'Correct Highlighted Fields',\n          style: {\n            marginTop: '2vh'\n          },\n          key: 'deletedable'\n        });\n      }\n    }, 500);\n  };\n  useEffect(() => {\n    var _editRecord$milestone2;\n    if ((editRecord === null || editRecord === void 0 ? void 0 : (_editRecord$milestone2 = editRecord.milestoneType) === null || _editRecord$milestone2 === void 0 ? void 0 : _editRecord$milestone2.toLowerCase()) === 'intake') {\n      const intakeMilestone = animalMilestoneList[1];\n      form.setFieldsValue({\n        acquisitionWayId: intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.acquisitionWayId,\n        amountPaid: (intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.amountPaidFee) ? intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.amountPaidFee : '',\n        amountRecieved: (intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.amountReceivedFee) ? intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.amountReceivedFee : '',\n        intakeDate: moment(intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.milestoneDate),\n        intakeNote: intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.notes,\n        otherRescueID: intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.otherRescueIDNo\n      });\n      if (intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.pcoId) {\n        setSelectedPco(intakeMilestone === null || intakeMilestone === void 0 ? void 0 : intakeMilestone.pcoId);\n      }\n    } else {\n      const birthMilestone = animalMilestoneList[0];\n      form.setFieldsValue({\n        actualAge: '',\n        birthDate: moment(birthMilestone === null || birthMilestone === void 0 ? void 0 : birthMilestone.milestoneDate),\n        birthDateFlag: false,\n        birthNote: birthMilestone === null || birthMilestone === void 0 ? void 0 : birthMilestone.notes,\n        isApproxDOB: (birthMilestone === null || birthMilestone === void 0 ? void 0 : birthMilestone.isApproxDOB) ? 'true' : 'false'\n      });\n    }\n  }, [visible]);\n  useEffect(() => {\n    console.log(form.getFieldsValue(), '()()()()()()()');\n  }, [form.getFieldsValue()]);\n  const footerContent = [/*#__PURE__*/_jsxDEV(_Button, {\n    onClick: () => setVisible(false),\n    children: \"Cancel\"\n  }, \"back\", false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(_Button, {\n    form: \"animal-form\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: loading,\n    onClick: () => {\n      validationCheck();\n    },\n    children: [\"Save\", updateAnimalMilestoneLoading && /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n      spin: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 40\n    }, this)]\n  }, \"submit\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this)];\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${cssPrefix}`,\n    children: /*#__PURE__*/_jsxDEV(_Modal, {\n      className: `${cssPrefix}__modal`,\n      centered: true,\n      title: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${cssPrefix}__modal__title`,\n        children: modalTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 16\n      }, this),\n      visible: visible,\n      onOk: () => alert('fhghj'),\n      onCancel: () => setVisible(false),\n      footer: footerContent,\n      children: /*#__PURE__*/_jsxDEV(_Form, {\n        id: \"animal-form\",\n        className: `${cssPrefix}__form`,\n        form: form\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        ,\n        ...layout,\n        onFinish: () => handleUpdate(),\n        name: \"nest-messages\",\n        scrollToFirstError: true,\n        validateMessages: validateMessages,\n        size: 'small',\n        children: (editRecord === null || editRecord === void 0 ? void 0 : (_editRecord$milestone3 = editRecord.milestoneType) === null || _editRecord$milestone3 === void 0 ? void 0 : _editRecord$milestone3.toLowerCase()) === 'intake' ? /*#__PURE__*/_jsxDEV(AnimalIntakeMilestone, {\n          animalMilestoneList: animalMilestoneList,\n          setFirstError: setFirstError,\n          form: form,\n          firstError: firstError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(BirthMilestoneForm, {\n          animalMilestoneList: animalMilestoneList,\n          form: form,\n          firstError: firstError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 5\n  }, this);\n};\n_s(MilestoneAddEditForm, \"YgIi4RoxKCwjryVzUP9kr5nnuEU=\", false, function () {\n  return [_Form.useForm];\n});\n_c = MilestoneAddEditForm;\nvar _c;\n$RefreshReg$(_c, \"MilestoneAddEditForm\");","map":{"version":3,"names":["LoadingOutlined","useEffect","useState","Cookies","moment","apiCall","BirthMilestoneForm","AnimalIntakeMilestone","confirm","cssPrefix","Option","layout","labelCol","span","wrapperCol","cookies","validateMessages","required","types","email","number","range","MilestoneAddEditForm","props","editRecord","visible","setVisible","animalDetail","animalMilestoneList","updateAnimalMilestoneListCall","getAnimalMilestoneListCall","updateAnimalMilestoneLoading","setSelectedPco","selectedPcoId","selectedAnimalId","forceUpdate","loading","setLoading","newAnimalType","newAcquisitionWay","animalType","setAnimalType","howAcquired","setHowAcquired","otherRescueShelter","setOtherRescueShelter","aqusitionNameToId","setAqusitionNameToId","aqusitionIdToName","setAqusitionIdToName","firstError","setFirstError","form","useForm","modalTitle","milestoneType","toLowerCase","data","then","resp","status","animalTypes","success","acquisitionWays","tempAcquistionWay","newObj","newAcquistionWayIdToName","map","currentAcqWay","i","acquisitionWayName","id","otherRescueShelters","disabledDate","current","endOf","sexValidator","getFieldValue","validator","totalAnimals","Number","maleCnt","femaleCnt","uknCnt","Promise","resolve","reject","Error","handleUpdate","getFieldsValue","newData","acquisitionWayId","amountPaid","amountRecieved","intakeDate","intakeNote","otherRescueID","amountPaidFee","parseInt","amountReceivedFee","milestoneDate","notes","otherRescueIDNo","otherRescueShelterId","pcoId","Person","Public","includes","birthDate","birthNote","isApproxDOB","JSON","parse","milestoneId","page","length","animalId","localStorage","getItem","getActualBirthdate","yrs","mos","days","subtract","validationCheck","errorField","setTimeout","getFieldsError","errors","name","error","content","style","marginTop","key","intakeMilestone","setFieldsValue","birthMilestone","actualAge","birthDateFlag","console","log","footerContent","alert"],"sources":["/Users/zhaoke/Desktop/TYR/TYR.WEB.CLIENT/src/components/animals/milestones/MilestoneAddEditForm.tsx"],"sourcesContent":["/* eslint-disable no-use-before-define */\n/* eslint-disable no-unused-vars */\nimport {\n  Button, Form, FormInstance, message, Modal, Row, Select,\n} from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useEffect, useState } from 'react';\nimport '../FtrAnimals.less';\nimport Cookies from 'universal-cookie';\nimport moment, { Moment } from 'moment';\nimport { isEqual } from 'lodash';\nimport { apiCall } from '../../../shared/api/apiWrapper';\nimport { BirthMilestoneForm } from '../components/forms/AnimalBirthMilestone';\nimport { AnimalIntakeMilestone } from '../components/forms/AnimalIntakeMilestone';\n\nconst { confirm } = Modal;\n\nexport interface AnimalsAddModalProps {\n  editRecord: any;\n  visible: boolean;\n  setVisible: any;\n  animalDetail: any;\n  animalMilestoneList: any;\n  updateAnimalMilestoneListCall: any;\n  getAnimalMilestoneListCall: any;\n  setSelectedPco: any;\n  animalMilestoneFilter: any;\n  selectedPcoId: any;\n  selectedAnimalId: any;\n  updateAnimalMilestoneLoading: boolean;\n}\n\ninterface AnimalType {\n  id: string;\n  typeName: string;\n}\n\ninterface AcquisitionWay {\n  id: string;\n  acquisitionWayName: string;\n}\n\nconst cssPrefix = 'animals-add-modal';\nconst { Option } = Select;\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\ntype SizeType = Parameters<typeof Form>[0]['size'];\n\nconst cookies = new Cookies();\n\n/* eslint-disable no-template-curly-in-string */\nconst validateMessages = {\n  required: '${label} is required',\n  types: {\n    email: '${label} is not a valid email',\n    number: '${label} is not a valid number',\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}',\n  },\n};\n\nexport const MilestoneAddEditForm = (props: AnimalsAddModalProps) => {\n  const {\n    editRecord, visible, setVisible, animalDetail, animalMilestoneList, updateAnimalMilestoneListCall,\n    getAnimalMilestoneListCall, updateAnimalMilestoneLoading, setSelectedPco, selectedPcoId, selectedAnimalId,\n  } = props;\n  const [, forceUpdate] = useState({});\n  const [loading, setLoading] = useState(false);\n  const newAnimalType: AnimalType[] = [];\n  const newAcquisitionWay: AcquisitionWay[] = [];\n  const [animalType, setAnimalType] = useState(newAnimalType);\n  const [howAcquired, setHowAcquired] = useState(newAcquisitionWay);\n  const [otherRescueShelter, setOtherRescueShelter] = useState<any>([]);\n  const [aqusitionNameToId, setAqusitionNameToId] = useState<any>({});\n  const [aqusitionIdToName, setAqusitionIdToName] = useState<any>({});\n  const [firstError, setFirstError] = useState<any>('');\n  const [form] = Form.useForm();\n\n  // const ifEditMode: boolean = Boolean(props.editRecord && props.editRecord.key) || false;\n  const modalTitle: string = (editRecord?.milestoneType.toLowerCase() === 'intake') ? 'Edit Intake Milestone'\n    : 'Edit Birth Milestone';\n\n  useEffect(() => {\n    const data = {};\n    apiCall('animaltype/get-animal-types', 'GET', data)\n      .then((resp: any) => {\n        if (resp?.status === 200) {\n          setAnimalType(resp?.data?.data?.animalTypes);\n        }\n      });\n  }, []);\n\n  useEffect(() => {\n    const data = {};\n    apiCall('acquisition-way/get-acquisition-way', 'GET', data)\n      .then((resp: any) => {\n        if (resp?.data?.success) {\n          setHowAcquired(resp?.data?.data?.acquisitionWays);\n          const tempAcquistionWay = resp?.data?.data?.acquisitionWays;\n          const newObj: any = {};\n          const newAcquistionWayIdToName: any = {};\n          tempAcquistionWay.map((currentAcqWay: any, i: any) => {\n            newObj[currentAcqWay.acquisitionWayName] = currentAcqWay.id;\n            newAcquistionWayIdToName[currentAcqWay.id] = currentAcqWay.acquisitionWayName;\n            return newObj;\n          });\n          setAqusitionNameToId(newObj);\n          setAqusitionIdToName(newAcquistionWayIdToName);\n        }\n      });\n    apiCall('other-rescue-shelter/get-other-rescue-shelter', 'GET', {})\n      .then((resp: any) => {\n        setOtherRescueShelter(resp?.data?.data?.otherRescueShelters);\n      });\n  }, []);\n\n  // useEffect(() => {\n  //   setFirstError('');\n  //   setCurrentAcquistionWayId('');\n  //   setFlagReasonKey(Date.now());\n  //   form.setFieldsValue({ ...editRecord });\n  //   if (!visible) {\n  //     setNoOfAnimal(1);\n  //     form.resetFields();\n  //     setEditRecord(null);\n  //   }\n  // }, [visible]);\n\n  // if (ifEditMode) {\n  //   form.setFieldsValue({\n  //     ...props.editRecord,\n  //   });\n  // }\n\n  // Can not select days after today\n  const disabledDate = (current: Moment) => current && current > moment().endOf('day');\n\n  // eslint-disable-next-line no-unused-vars\n  const sexValidator: any = ({ getFieldValue }: FormInstance) => ({\n    required: true,\n    validator() {\n      const totalAnimals = Number(getFieldValue('numberOfAnimals') || 0);\n      const maleCnt = Number(getFieldValue('males') || 0);\n      const femaleCnt = Number(getFieldValue('females') || 0);\n      const uknCnt = Number(getFieldValue('unknown') || 0);\n\n      if ((maleCnt + femaleCnt + uknCnt) === totalAnimals) {\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error('Total Count Must Equal the Number of Animals'));\n    },\n  });\n\n  const handleUpdate = () => {\n    const data = form.getFieldsValue();\n    let newData: any = {};\n    if (editRecord?.milestoneType?.toLowerCase() === 'intake') {\n      const {\n        acquisitionWayId, amountPaid, amountRecieved, intakeDate, intakeNote, otherRescueID,\n      } = data;\n      newData = {\n        acquisitionWayId,\n        amountPaidFee: parseInt(amountPaid, 10),\n        amountReceivedFee: parseInt(amountRecieved, 10),\n        milestoneDate: moment(intakeDate),\n        notes: intakeNote,\n        otherRescueIDNo: otherRescueID,\n        otherRescueShelterId: data?.otherRescueShelterId,\n        pcoId: [aqusitionNameToId['Owner Surrender'], aqusitionNameToId?.Person, aqusitionNameToId?.Public].includes(acquisitionWayId) ? selectedPcoId : null,\n        acquisitionWayName: aqusitionIdToName[data?.acquisitionWayId],\n      };\n    } else {\n      const {\n        birthDate, birthNote, isApproxDOB,\n      } = data;\n      newData = {\n        isApproxDOB: JSON.parse(isApproxDOB) || false,\n        milestoneDate: moment(birthDate),\n        notes: birthNote,\n      };\n    }\n\n    updateAnimalMilestoneListCall({\n      ...newData,\n      milestoneId: editRecord?.id,\n    }, () => {\n      getAnimalMilestoneListCall({ page: 1, length: 15, animalId: selectedAnimalId?.[0] || localStorage.getItem('selectedAnimalId') }, () => {\n        setVisible(false);\n      });\n    });\n  };\n\n  const getActualBirthdate = (yrs: number, mos: number, days: number) => {\n    const birthDate = moment().subtract(yrs, 'years').subtract(mos, 'months').subtract(days, 'days');\n    return birthDate;\n  };\n\n  // const onCancel = () => {\n  //   const data = form.getFieldsValue();\n  //   let isFormChanged = false;\n  //   if (!editRecord) {\n  //     isFormChanged = (data?.animalName || data?.breed || data?.color || data.spayedOrNeutered || data?.description\n  //       || data?.otherRescueID || data?.flag || data?.flagReason || data?.location || data?.personOrRescue\n  //       || data?.otherRescueID || data?.otherRescueID || data?.amountPaid || data?.amountRecieved\n  //       || data?.intakeNote || data?.personOrRescue || data?.actualAge || data?.birthNote);\n  //   } else {\n  //     const {\n  //       animalName, animalTypeId, breed, sex, color, spayedOrNeutered, location, flag, flagReason, description, upload,\n  //     } = editRecord;\n  //     const intialRecord = {\n  //       animalName, animalTypeId, breed, sex, color, spayedOrNeutered, location, flag, flagReason, description, upload,\n  //     };\n  //     isFormChanged = !(isEqual(intialRecord, form.getFieldsValue()));\n  //   }\n  //   if (!isFormChanged) {\n  //     form.resetFields();\n  //     props.handleCancel();\n  //     return;\n  //   }\n\n  //   confirm({\n  //     title: 'Do you want to save your changes?',\n  //     icon: <ExclamationCircleOutlined />,\n  //     okText: 'Yes',\n  //     okType: 'danger',\n  //     cancelText: 'No',\n  //     onOk() {\n  //       editRecord ? handleUpdate() : form.submit();\n  //     },\n  //     onCancel() {\n  //       form.resetFields();\n  //       props.handleCancel();\n  //     },\n  //   });\n  // };\n\n  const validationCheck = () => {\n    let errorField = '';\n    setFirstError('');\n    setTimeout(() => {\n      form.getFieldsError()?.map((data: any) => {\n        if (errorField) {\n          return '';\n        }\n        if (data?.errors[0]) {\n          errorField = data?.name[0];\n          setFirstError(data?.name[0]);\n        }\n        return '';\n      });\n      if (errorField) {\n        message.error({\n          content: 'Correct Highlighted Fields',\n          style: {\n            marginTop: '2vh',\n          },\n          key: 'deletedable',\n        });\n      }\n    }, 500);\n  };\n\n  useEffect(() => {\n    if (editRecord?.milestoneType?.toLowerCase() === 'intake') {\n      const intakeMilestone: any = animalMilestoneList[1];\n\n      form.setFieldsValue({\n        acquisitionWayId: intakeMilestone?.acquisitionWayId,\n        amountPaid: (intakeMilestone?.amountPaidFee) ? (intakeMilestone?.amountPaidFee) : '',\n        amountRecieved: (intakeMilestone?.amountReceivedFee) ? (intakeMilestone?.amountReceivedFee) : '',\n        intakeDate: moment(intakeMilestone?.milestoneDate),\n        intakeNote: intakeMilestone?.notes,\n        otherRescueID: intakeMilestone?.otherRescueIDNo,\n      });\n\n      if (intakeMilestone?.pcoId) {\n        setSelectedPco(intakeMilestone?.pcoId);\n      }\n    } else {\n      const birthMilestone: any = animalMilestoneList[0];\n\n      form.setFieldsValue({\n        actualAge: '',\n        birthDate: moment(birthMilestone?.milestoneDate),\n        birthDateFlag: false,\n        birthNote: birthMilestone?.notes,\n        isApproxDOB: birthMilestone?.isApproxDOB ? 'true' : 'false',\n      });\n    }\n  }, [visible]);\n\n  useEffect(() => {\n    console.log(form.getFieldsValue(), '()()()()()()()');\n  }, [form.getFieldsValue()]);\n\n  const footerContent = [\n    <Button key=\"back\" onClick={() => setVisible(false)}>\n      Cancel\n    </Button>,\n    <Button\n      form=\"animal-form\"\n      key=\"submit\"\n      type=\"primary\"\n      htmlType=\"submit\"\n      loading={loading}\n      onClick={() => {\n        validationCheck();\n      }}\n    >\n      Save\n      {updateAnimalMilestoneLoading && <LoadingOutlined spin />}\n    </Button>,\n  ];\n\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  return (\n    <div className={`${cssPrefix}`}>\n      <Modal\n        className={`${cssPrefix}__modal`}\n        centered\n        title={<span className={`${cssPrefix}__modal__title`}>{modalTitle}</span>}\n        visible={visible}\n        onOk={() => alert('fhghj')}\n        onCancel={() => setVisible(false)}\n        footer={footerContent}\n      >\n        <Form\n          id=\"animal-form\"\n          className={`${cssPrefix}__form`}\n          form={form}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...layout}\n          onFinish={() => handleUpdate()}\n          name=\"nest-messages\"\n          scrollToFirstError\n          validateMessages={validateMessages}\n          size={'small' as SizeType}\n        >\n          {(editRecord?.milestoneType?.toLowerCase() === 'intake') ? (\n            <AnimalIntakeMilestone\n              animalMilestoneList={animalMilestoneList}\n              setFirstError={setFirstError}\n              form={form}\n              firstError={firstError}\n            />\n          ) : (\n            <BirthMilestoneForm\n              animalMilestoneList={animalMilestoneList}\n              form={form}\n              firstError={firstError}\n            />\n          )}\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}